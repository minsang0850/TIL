# 기본형과 참조형의 공유
- 기본형: 하나의 값을 여러 변수에서 절대로 공유하지 않는다.
- 참조형: 하나의 객체를 참조값을 통해 여러 변수에서 공유할 수 있다.
  - 참조형 변수들은 같은 참조값을 통해 같은 인스턴스를 참조할 수 있다.

# 공유 참조와 사이드 이펙트
참조를 공유하면 사이드 이펙트가 발생할 확률이 높아진다.

## 사이드 이펙트 해결 방안 
서로 다른 인스턴스를 참조

**여러 변수가 하나의 객체를 공유하는 것을 막을 방법은 없다.**

# 불변 객체 - 도입
문제의 직접적인 원인은 공유된 객체의 값을 변경하는 것이다.
객체의 값을 변하지 못하게 설계했다면 이런 시이드 이펙트 자체가 발생하지 않을 것이다.

## 불변 객체 도입
객체의 상태(객체 내부의 값, 필드, 멤버 변수)가 변하지 않는 객체를 불변 객체(immutable Object)라 한다.

필드에 final을 사용해서 변경을 막음.  
값을 못바꾸니 새로운 객체를 만들어서 사용.

# 불변 객체 값 변경
자신의 값을 변경하지 않고, 새로운 객체를 만들어서 반환
```java
public class ImmutableObj {
    private final int value;
    
    public ImmutableObj add(int value) {
        return new ImmutableObj(this.value + value);
    }
}
```





