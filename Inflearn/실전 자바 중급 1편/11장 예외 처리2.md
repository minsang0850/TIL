예외를 던지면 상태(Success)를 반환할 필요 없다.
메서드가 정상 종료되면 성공, 예외가 던져지면 예외를 통해 실패를 확인할 수 있다.

오류가 발생하면, 예외 객체를 만들고 거기에 오류 코드와 오류 메시지를 담아둔다.

main() 밖으로 예외가 던져지면 예외 메시지와 예외를 추적할 수 있는 스택 트레이스를 출력.


# 정상, 예외 흐름 분리
비즈니스 로직을 try 블록에, 예외 처리 로직을 catch 블록에 작성한다.

# 리소스 반환 문제
예외가 터져도 정상적으로 자원을 반환해야 한다. (disconnect)

예상하지 못한 예외가 발생해도 자원을 반환할 수 있어야 한다.

-> try-catch-finally 구문 사용

try에서 사용한 자원을 해제할 때 주로 사용한다.
처리할 수 없는 예외가 발생해도 finally 구문은 반드시 실행된다.

# 예외 계층
예외를 계층화해서 다양하게 만들면 더 세밀하게 예외를 처리할 수 있다.

# 예외 처리 방안
## 처리할 수 없는 예외
고객에게 "현재 시스템에 문제가 있습니다."라는 메시지를 보여주고, 만약 웹이라면 오류 페이지를 보여주면 된다.
그리고 개발자가 문제 상황을 파악할 수 있도록 로그를 남겨야 한다.

## 체크 예외의 부담
개발자가 실수로 놓칠 수 있는 예외들을 컴파일러가 체크해주기 때문에 오래전부터 많이 사용되었다.
그런데 처리할 수 없는 예외가 많아지고, 프로그램이 점점 복잡해지면서 체크 예외를 사용하는 것이 점점 더 부담스러워졌다.

체크 예외가 많아질 수록 throws를 선언해야 하는 메서드가 많아지고, throws를 선언하면 호출하는 쪽에서도 throws를 선언해야 한다.

### throws Exception의 문제
Exception은 최상위 타입이므로 모든 체크 예외를 다 밖으로 던지는 문제가 발생한다.
중요한 체크 예외조차도 놓치게 된다.
-> 체크 예외를 의도한 대로 사용한느 방법이 아닙니다.

## 언체크 예외
처리할 수 없는 예외는 나누어 처리하기보다는 모아서 한번에 처리하는 것이 낫다.

RuntimeException을 상속받도록 예외 클래스 생성해서 사용.

### ExceptionHandler()
해결할 수 없는 예외가 발생하면 사용자에게는 시스템 내에 알 수 없는 문제가 발생했다고 알리는 것이 좋다.

### e.printStackTrace()
- 예외가 발생하면 예외 객체를 만들고 거기에 오류 코드와 오류 메시지를 담아둔다.
- 예외가 발생한 위치를 추적할 수 있는 스택 트레이스를 출력한다.

실무에선 로그 라이브러리를 사용해서 콘솔과 특정 파일에 함께 결과를 출력한다.

# try-with-resources
자바 7부터 추가된 기능으로, 자원을 사용한 후 자동으로 자원을 반환해준다.
try 블록에서 사용한 자원을 해제할 때 주로 사용한다.

이 긴으을 사용하려면 먼저 AutoCloseable 인터페이스를 구현해야 한다.
이 인터페이스를 구현하면 Try with resoures를 사용할 때 try가 끝나는 시점에 close() 메서드가 자동으로 호출된다.

