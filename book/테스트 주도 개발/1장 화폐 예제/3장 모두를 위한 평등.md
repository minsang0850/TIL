어떤 정수에 1을 더했을 때, 우리는 원래 정수가 변할 거라고 예상하기보다는 원래 정수에 1이 더해진 새로운 값을 갖게 될 것을 예상한다.
하지만 일반적으로 객체는 우리 예상대로 작동하지 않는다.
어떤 계약에 새로운 보상 항목을 추가하면 그 계약 자체가 변하게 되는 것이다.

지금의 Dollar 객체같이 객체를 값처럼 쓸 수 있는데 이것을 값 객체 패턴(value object pattern)이라고 한다.
값 객체에 대한 제약사항 중 하나는 객체의 인스턴스 변수가 생성자를 통해 일단 설정된 후에는 결코 변하지 않는다는 것이다.

값 객체를 사용하면 별칭 문제에 대해 걱정할 필요가 없다는 아주 큰 장점이 있다.

값 개체가 암시하는 것 중 하나는 모든 연산은 새 객체를 반환해야 한다는 것이다.  
또다른 암시는 값 객체는 equals()를 구현해야 한다는 것인데, 왜냐하면 $5라는 것은 항상 다른 $5만큼이나 똑같이 좋은 것이기 때문이다.

라디오 신호를 두 수신국이 감지하고 있을 때, 수신국 사이의 거리가 알려져 있고 각 수신국이 신호의 방향을 알고 있다면,
이 정보들만으로 충분히 신호의 거리와 방위를 알 수 있다. 이 계산법을 삼각측량이라고 한다.

삼각측량을 이용하려면 예제가 두 개 이상 있어야만 코드를 일반화할 수 있다.
```java
public void testEquality() {
    assertTrue(new Dollar(5).equals(new Dollar(5)));
    assertFalse(new Dollar(5).equals(new Dollar(6)));
}
```

이제 동치성(equality)를 일반화해야 한다.
```java
public boolean equals(Object object) {
    Dollar dollar = (Dollar) object;
    return amount == dollar.amount;
}
```

- 우리는 디자인 패턴(값 객체)이 하나의 또 다른 오퍼레이션을 암시한다는 것을 알아챘다.
- 해당 오퍼레이션을 테스트했다.
- 해당 오퍼레이션을 간단히 구현했다.
- 곧장 리팩토링하는 대신 테스트를 조금 더 했다.
- 두 경우를 모두 수용할 수 있도록 리팩토링했다.
