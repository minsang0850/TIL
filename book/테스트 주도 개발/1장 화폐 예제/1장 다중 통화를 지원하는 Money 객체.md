다중 통화를 지원하는 보고서를 만들려면 통화 단위를 추가해야 한다.
또한 환율도 명시해야 한다.

새로운 보고서를 생성하려면 어떤 기능들이 있어야 할까?
- 통화가 다른 두 금액을 더해서 주어진 활율에 맞게 변한 금액을 결과로 얻을 수 있어야 한다.
- 어떤 금액(주가)을 어떤 수(주식의 수)에 곱한 금액을 결과로 얻을 수 있어야 한다.

객체를 만들면서 시작하는게 아니라 테스트를 먼저 만들어야 한다.

좀 더 쉬운 두번째 항목부터 손대는 것이 좋다.

```java
public void testMultiplication() {
    Dollar five = new Dollar(5);
    five.times(2);
    assertEquals(10, five.amount);
}
```
현재는 네 개의 컴파일 에러가 있다.
- Dollar 클래스가 없음
- 생성자가 없음
- times(int) 메서드가 없음
- amount 필드가 없음

한 번에 하나씩 정복하기로 하자

**Dollar**  
```java
class Dollar
```

**생성자**
```java
Dollar(int amount) {}
```

**times()의 스텁 구현**  
```java
void times(int multiplier){}
```

**amount 필드 추가**  
```java
int amount;
```

다시 테스트 수행 
실패 -> 결과로 10이 나와야 하는데 0이 나옴.

이제 실패에 대한 구체적인 척도를 갖게됐다.

우리 문제는 '다중 통화 구현'에서 '이 테스트를 통과시킨 후 나머지 테스트들도 통과시키기'로 변형된 것이다.

```java
int amount = 10; 
```
코드 추가로 성공시킬 수 있다.

계속 진행하기 전에 일반화해야 한다.
주기는 다음과 같다.
1. 작은 테스트를 하나 추가한다.
2. 모든 테스트를 실행해서 테스트가 실패하는 것을 확인한다.
3. 조금 수정한다.
4. 모든 테스트를 실행해서 테스트가 성공하는 것을 확인한다.
5. 중복을 제거하기 위해 리팩토링을 한다.

이제 중복을 제거해야 한다.
```java
int amount;
void times(int multiplier) {
    amount = 5 * 2;
}
```

테스트는 여전히 통과하고 테스트 막대 역시 초록색이다.

TDD의 핵심은 이런 작은 단계를 밟아야 한다는 것이 아니라,
이런 작은 단계를 밟을 능력을 갖추어야 한다는 것이다.
조금 더 진행해보자.  
5를 amount로 변경
```java
void times(int multiplier) {
    amount = amount * 2;
}
```
2를 multiplier로 변경
```java
void times(int multiplier) {
    amount = amount * multiplier;
}
```
*= 사용
```java
void times(int multiplier) {
    amount *= multiplier;
}
```

첫 번째 테스트에 완료 표시를 할 수 있게 됐다.
우리는 다음 작업들을 해냈다.
- 우리가 알고 있는 작업해야 할 테스트 목록을 만들었다.
- 오퍼레이션이 외부에서 어떻게 보이길 원하는지 말해주는 이야기를 코드로 표현했다.
- JUnit에 대한 상세한 사항들은 잠시 무시하기로 했다.
- 스텁 구현을 통해 테스트를 컴파일했다.
- 끔찍한 죄악을 범하여 테스트를 통과시켰다.
- 돌아가는 코드에서 상수를 변수로 변경하여 점진적으로 일반화했다.
- 새로운 할일들을 한번에 처리하는 대신 할일 목록에 추가하고 넘어갔다.