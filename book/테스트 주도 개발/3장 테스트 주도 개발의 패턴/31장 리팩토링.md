시스템의 설계를 작은 단계를 통해 변화시키는 방법.

TDD에서는 리팩토링을 특이한 방법으로 사용한다.
일반적으로 리팩토링은 어떤 상황에서도 프로그램의 의미론을 변경해서는 안 된다.
하지만 TDD에서 우리가 신경 쓰는 부분들은 이미 통과한 테스트들 뿐이다.

예를 들어 TDD에서는 상수를 변수로 바꾸고 양심에 거리낌 없이 이를 리팩토링이라고 부른다.
왜냐하면 이 행위가 통과하는 테스트의 집합에 아무 변화도 주지 않기 떄문이다.

### 차이점 일치시키기
비슷한 두 코드 조각을 합치려면 단계적으로 닮아가게끔 수정하고, 완전히 동일해지면 둘을 합친다.

### 변화 격리하기
변화를 격리하기 위해 사용할 수 있는 몇 가지 방법에는 메서드 추출하기, 객체 추출하기, 메서드 객체 등이 있다.

### 데이터 이주시키기
표현 양식을 변경하려면 어떻게 해야 할까? 일시적으로 데이터를 중복시킨다.

**방법**
- 새로운 포맷의 인스턴스 변수를 추가한다.
- 기존 포맷의 인스턴스 변수를 세팅하는 모든 부분에서 새로운 인스턴스 변수도 세팅하게 만든다.
- 기존 변수를 사용하는 모든 곳에서 새 변수를 사용하게 만든다.
- 기존 포맷을 제거한다.
- 새 포맷에 맞게 외부 인터페이스를 변경한다.

API를 먼저 변화시키기를 원할 떄
- 새 포맷으로 인자를 하나 추가한다.
- 새 포맷 인자에서 이전 포맷의 내부적 표현양식으로 번역한다.
- 이전 포맷 인자를 삭제한다.
- 이전 포맷을 사용하는 것들을 새 포맷으로 바꾼다.
- 이전 포맷을 지운다.

**이유**
'하나에서 여럿으로'는 항상 데이터 이주시키기 문제를 만들어낸다.

### 메서드 추출하기
긴 메서드 -> 분리해서 호출(추출)

### 메서드 인라인
?? 어렵

### 인터페이스 추출하기
자바 오퍼레이션에 대한 두 번째 구현을 추가하려면 어떻게 해야 할까?
공통되는 오퍼레이션을 담고 있는 인터페이스를 만들면 된다.

### 메서드 옮기기
메서드를 원래 있어야 할 장소로 옮기려면 어떻게 해야 할까?
어울리는 클래스에 메서드를 추가해주고, 그것을 호출하게 하라.

### 메서드 객체
여러 개의 매개 변수와 지역 변수를 갖는 복잡한 메서드를 어떻게 표현할까?
메서드를 꺼내서 객체로 만든다.

- 메서드와 같은 매개 변수를 갖는 객체를 만든다.
- 메서드의 지역 변수를 객체의 인스턴스 변수로 만든다.
- 원래 메서드와 동일한 내용을 갖는 run() 메서드를 만든다.

### 매개 변수 추가
그냥 하면 됨.

### 메서드 매개 변수를 생성자 매개 변수로 바꾸기
하나 이상의 메서드의 매개 변수를 생성자로 옮기려면 어떻게 할까?

마찬가지로 그냥 하면 됨.
