어떻게 테스트할 것인가에 대하여 자세히 이야기하기 전에 우선 기본적인 전략에 관한 질문에 답해야 한다.
- 테스트한다는 것은 무엇을 뜻하는가?
- 테스트를 언제 해야 하는가?
- 테스트할 로직을 어떻게 고를 것인가?
- 테스트할 데이터를 어떻게 고를 것인가?

### 테스트(명사)
작성한 소프트웨어를 어떻게 테스트할 것인가? 자동화된 테스트를 만들어라.

당신이 변화를 테스트할 수 있다고 해도, 실제로 변화를 테스트하는 것은 '테스트를 갖고 있다'는 것과 똑같지 않다.
테스트는 또한 '승인 또는 거부에 도달하는 과정'을 뜻하는 명사기도 하다.

자동화된 테스트가 있다면, 스트레스를 받기 시작할 때 테스트를 실행할 것이다.
테스트는 프로그래머를 위한 묘석인데, 두려움을 지루함으로 바꿔주는 효험이 있다.

### 격리된 테스트
테스트를 실행하는 것이 서로 어떤 식으로 영향을 미쳐야 좋은가? 아무 영향이 없어야 한다.

1. 테스트가 충분히 빨라서 직접, 자주 실행할 수 있게끔 만들어야 한다.
2. 어마어마한 양의 종이더미가 반드시 어마어마한 양의 문제를 의미하는 것은 아니다.
   1. 앞 부분에서 실행된 테스트가 실패한 후 그 영향으로 다음 테스트부터는 시스템이 예측 불가능한 상태에 놓이는 경우가 허다하다.


격리된 테스트 -> 실행 순서에 독립적

테스트를 격리하기 위한 작업은 결과적으로 시스템이 응집도는 높고 결합도는 낮은 개겣의 모음으로 구성되도록 한다.

### 테스트 목록
목표에서 벗어나지 않고 집중할 수 있는 한 가지 전랴긍ㄴ 모든 걸 머릿속에 넣어두는 것이다.

구현해야 할 것들에 대한 테스트를 목록에 적게 된다.
우선 구현한 필요가 있는 모든 오퍼레이션의 사용 예들을 적는다.
그 다음, 이미 존재하지 않는 오퍼레이션에 대해서는 해당 오퍼레이션의 널 버전을 리스트에 적는다.
마지막으로 깔끔한 코드를 얻기 위해 이번 작업을 끝내기 전에 반드시 해야 할 리팩토링 목록을 적는다.

테스트의 윤관만 잡는 대신, 한 걸음 더 나아가 테스트를 전부 구현할 수도 있다.
내 경우에 테스트를 한번에 다 만들어 놓는 방법이 먹히지 않았던 두 가지 이유가 있다.
1. 만들어진 모든 테스트는 리팩토링에 대해 약간의 관성을 갖는다. 자동화된 리팩토링 도구가 있다면 이것은 별 문제가 안 된다.
2. 열 개의 테스트가 실패했다면 초록 막대를 보는 것은 한참 멀었다.


테스트를 통과하게 만드는 과정에서 여러분이 작성한 코드들은 새로운 테스트가 필욯마을 암시적으로 알려줄 것이다.
이 새 테스트를 리팩토링과 마찬가지로 할일 목록에 적어 놓아라.

어떤 기능을 하나 진행하는 중이라면 다음 번에도 똑같은 목록을 사용하라.
현재 작업 범위를 넘어서는 큰 리팩토링 거리를 발견한다면, 다음 할일 목록으로 옮겨라.
제대로 작동하지 않는 테스트를 하나라도 생각할 수 있다면, 그걸 제대로 하는 것이 코드를 릴리즈하는 것보다 더 중요하다.

### 테스트 우선
테스트를 언제 작성하는 것이 좋을까? 테스트 대상이 되는 코드를 작성하기 직전에 작성하는 것이 좋다.

코드를 작성한 후에는 테스트를 만들지 않을 것이다. 
프로그래머로서 우리의 목표는 기능이 실행되도록 만드는 것이다.
하지만 또 한편으로는 프로그램의 설계에 대해 생각해볼 시간도 필요하고 작업 범위를 조절할 방법도 필요할 것이다.

스트레스와 테스트의 관계를 나타내는 일반적인 영향도를 보면 위 쪽에 있는 스트레스는 아래쪽에 있는 테스트와 음성적으로 연결되어 있다.
스트레스를 받을 수록 테스트가 충분치 못할 가능성이 높아진다.

### 단언 우선
단언(assert)은 언제쯤 쓸까? 단언을 제일 먼저 쓰고 시작하라.
자기유사성(self-similarity)이란 참 멋지지 않은가?
- 시스템을 개발할 때 무슨 일부터 하는가? 완료된 시스템이 어떨 거라고 알려주는 이야기부터 작성한다.
- 특정 기능을 개발할 때 무슨 일부터 하는가? 기능이 완료되면 통과할 수 있는 테스트부터 작성한다.
- 테스트를 개발할 때 무슨 일부터 하는가? 완료될 때 통과해야 할 단언부터 작성한다.

구현에 대해 전혀 고려하지 않고 테스트만 작성할 때도 사실 여러분은 몇 가지 문제들을 한번에 해결하는 것이다.
- 테스트하고자 하는 기능이 어디에 속하는 걸까? 기존의 메서드를 수정해야 하나, 
기존의 클래스에 새로운 메서드를 추가해야 하나, 아니면 이름이 같은 메서드를 새 장소에? 또는 새 클래스에?
- 메서드 이름은 뭐라고 해야 하나?
- 올바른 결과를 어떤 식으로 검사할 것인가?
- 이 테스트가 제안하는 또 다른 테스트에는 뭐가 있을까?

### 테스트 데이터
테스트를 읽을 때 쉽고 따라가기 좋을 만한 데이터를 사용하라.
테스트 작성에도 청중이 존재한다.
단지 데이터 값을 산발하기 위해 데이터 값을 산발하지 마라.
데이터 간에 차이가 있따면 그 속에 어떤 의미가 있어야 한다.

테스트 데이터 패턴이 완전한 확신을 얻지 않아도 되는 라이선스는 아니다. 만약 시스템이 여러 입력을 다루어야 한다면 테스트 역시 여러 입력을 반영해야 한다.

테스트 데이터에 대한 대아능ㄴ 실제 세상에서 얻어진 실제 데이터를 사용하는 것이다.
- 실제 실행을 통해 수집한 외부 이벤트의 결과를 이용하여 실시간 시스템을 테스트하고자 하는 경우
- 예전 시스템의 출력과 현재 시스템의 출력을 비교하고자 하는 경우(병렬 테스팅)
- 시뮬레이션 시스템을 리팩토링한 후 기존과 정확히 동일한 결과가 나오는지 확인하고자 할 경우. 특히 부동소수점 값의 정확성이 문제가 될 수 있다.

### 명백한 데이터
데이터의 의도를 어떻게 표현할 것인가?

명백한 데이터는 코드에 매직넘버를 쓰지 말라는 것에 대한 예외적인 규칙일 수도 있다.
단일 메서드의 범위에서라면, 5라는 숫자(어떤 매직넘버)사이의 관계는 명백하다.
하지만 이미 정의된 기호 상수가 있따면 나는 그것을 사용할 것이다.